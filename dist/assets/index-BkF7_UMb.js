(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const d=()=>{const r=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",r?"dark":"light")};(()=>{const t=localStorage.getItem("theme");(t==="dark"||!t&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark")})();function l(){const t=document.querySelector("#mobile-menu-btn"),r=document.querySelector("#mobile-menu");!t||!r||t.addEventListener("click",()=>{const n=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",String(!n)),r.classList.toggle("hidden")})}function a(){const t=Array.from(document.querySelectorAll("a[data-scroll]")),r=t.map(s=>document.querySelector(s.getAttribute("href")||"")).filter(s=>!!s);if(!r.length)return;const n=new IntersectionObserver(s=>{s.forEach(e=>{const o="#"+e.target.id,i=t.find(c=>c.getAttribute("href")===o);i&&e.isIntersecting&&(t.forEach(c=>c.classList.remove("text-indigo-600","dark:text-indigo-400")),i.classList.add("text-indigo-600","dark:text-indigo-400"))})},{rootMargin:"-30% 0px -60% 0px",threshold:[0,.25,.5,1]});r.forEach(s=>n.observe(s))}function u(){const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",d)}document.addEventListener("DOMContentLoaded",()=>{u(),l(),a(),m()});window.toggleTheme=d;function m(){const t=Array.from(document.querySelectorAll("section[data-section-bg]")),r={subtle:"36px",medium:"60px",strong:"96px"};t.forEach(n=>{const s=n.dataset.sectionBg||"",e=n.dataset.bleed||"medium";n.style.setProperty("--section-bg",s);const o=r[e]||r.medium;n.style.setProperty("--section-bleed-height",o),!n.classList.contains("section-bleed-bottom")&&!n.classList.contains("section-bleed")&&n.classList.add("section-bleed")})}
