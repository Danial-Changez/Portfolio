(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{f(),g(),p(),h()});function f(){const e=document.querySelector("#mobile-menu-btn"),o=document.querySelector("#mobile-menu");!e||!o||e.addEventListener("click",()=>{const n=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",String(!n)),o.classList.toggle("hidden")})}function g(){const e=Array.from(document.querySelectorAll("a[data-scroll]")),o=e.map(s=>{const t=s.getAttribute("href")||"";return t.startsWith("#")?document.querySelector(t):null}).filter(s=>!!s);if(!o.length)return;const n=new IntersectionObserver(s=>{s.forEach(t=>{const r=t.target;if(!r.id)return;const i=e.find(c=>c.getAttribute("href")===`#${r.id}`);i&&t.isIntersecting&&(e.forEach(c=>c.classList.remove("text-indigo-600","dark:text-indigo-400")),i.classList.add("text-indigo-600","dark:text-indigo-400"))})},{rootMargin:"-30% 0px -60% 0px",threshold:[0,.25,.5,1]});o.forEach(s=>n.observe(s))}function p(){const e=Array.from(document.querySelectorAll("section[data-section-bg]")),o={subtle:"36px",medium:"60px",strong:"96px"};e.forEach(n=>{const s=n.dataset.sectionBg,t=n.dataset.bleed||"medium",r=o[t]||o.medium;s&&n.style.setProperty("--section-bg",s),n.style.setProperty("--section-bleed-height",r),n.classList.contains("section-bleed")||n.classList.contains("section-bleed-bottom")||n.classList.add("section-bleed")})}function h(){const e=document.querySelector("#contact-form");if(!e)return;const o=document.querySelector("#contact-status"),n={name:document.querySelector("#name"),email:document.querySelector("#email"),message:document.querySelector("#message")};e.addEventListener("submit",s=>{s.preventDefault();const t=new FormData(e),r=(t.get("name")||"").toString().trim(),i=(t.get("email")||"").toString().trim(),c=(t.get("message")||"").toString().trim(),a=b({name:r,email:i,message:c});if(y(n,a),a.length){l(o,"Please add your name, a valid email, and a short message so I can get back to you.",!0);return}const d=encodeURIComponent(`Portfolio contact from ${r}`),u=encodeURIComponent(`${c}

Reply to: ${i}`),m=`mailto:dchangez@uoguelph.ca?subject=${d}&body=${u}`;window.location.href=m,l(o,"Opening your email clientâ€¦ if nothing happens, you can email me directly at dchangez@uoguelph.ca.",!1),e.reset()})}function b(e){const o=[],n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email);return e.name||o.push("name"),(!e.email||!n)&&o.push("email"),e.message||o.push("message"),o}function y(e,o){Object.entries(e).forEach(([n,s])=>{s&&s.classList.toggle("input-error",o.includes(n))})}function l(e,o,n){e&&(e.textContent=o,e.classList.toggle("text-rose-500",n),e.classList.toggle("text-emerald-500",!n))}
